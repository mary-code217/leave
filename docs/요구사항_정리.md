# 휴가 전자결재 시스템 요구사항

## I. 휴가 부여 및 관리

### SFR-101 [연차 부여]
- 근속연수에 따른 유급연차 자동 부여
  - 1년 미만: 월 1일 (최대 11일)
  - 1년 이상: 연 15일 + 3년차부터 2년마다 1일 가산 (최대 25일)
- 관리자가 개별 사용자에게 추가 부여 또는 차감 가능 (사유 입력 필수)
- 변경 이력 기록
- 유급연차 잔여 0일 시 무급연차 자동 전환

### SFR-102 [연차 종류 설정]
- 관리자 화면에서 휴가 유형 등록/수정/삭제 가능
- 유형별 설정 항목:
  - 차감 규칙
  - 차감 여부
  - 증빙 필요 여부
  - 승인 절차

### SFR-103 [휴가 잔여 관리]
- 유급/무급 잔여일 별도 집계
- 반차: 0.5일 차감
- 시간단위: 최소 2시간 및 2시간 단위 차감
- 동일일자 오전·오후 반차 합산 시 1일 처리 (옵션)

---

## II. 신청 및 결재

### SFR-110 [휴가 신청]
- 필수 입력: 기간, 유형, 사유
- 반차 신청 시 오전/오후 필수 선택
- 공휴일·주말 포함 시 자동 차감 제외 옵션
- 인수인계 메모 작성 가능

### SFR-111 [결재선 관리]
- 관리자가 사용자별 기본 결재자 지정 (1~2단계)
- 다단계 결재 시 각 단계별 승인 필수
- 본인 결재 불가
- 결재자 부재 시 대리결재 위임 가능

### SFR-112 [사후결재]
- 휴가 시작일 이후 신청 가능
- 사후결재 여부 표시
- 사유 입력 필수

---

## III. 검증 규칙 및 정책

### SFR-120 [리드타임/취소]
- 최소 신청일수 설정 (예: 2근무일 전)
- 휴가 시작일 이후 취소 시 결재자 승인 필요

### SFR-121 [중복·겹침 제한]
- 동일 사용자 일정 겹침 불가
- 팀/부서 동시 휴가 인원 임계치 초과 시 신청 제한 또는 경고

### SFR-122 [공휴일 처리]
- 휴가 기간 포함 법정공휴일/회사 지정휴일 자동 차감 제외
- 공휴일 데이터 연도별 사전 등록 가능

---

## IV. 알림 및 사용자 편의

### SFR-130 [웹 알림]
- 실시간 웹 알림 발송 시점:
  - 신청
  - 결재 요청
  - 승인
  - 반려
- 결재자: 결재 대기 알림
- 신청자: 승인/반려 결과 알림

### SFR-131 [이메일/모바일 알림]
- 이벤트를 이메일 또는 모바일 푸시로 발송
- 설정 가능

### SFR-132 [캘린더 뷰]
- 팀/조직별 월·주·일 단위 휴가 현황 표시
- 구분 표시: 유급/무급, 반차, 시간단위
- 당일 팀 내 휴가 인원수 배지 표시

---

## V. 관리 기능

### SFR-140 [관리자 화면]
- 관리 항목:
  - 휴가 유형
  - 결재선
  - 연차 일괄 부여/차감
  - 공휴일 관리
- 연차/무급 사용량 통계 조회

### SFR-141 [감사 로그]
- 기록 대상: 모든 부여/차감/결재/취소/설정 변경 내역
- 포함 정보: 사유, 작성자, 일시
- 보관 기간: 최소 3년

---

## VI. 권한 및 직급 관리

### SFR-150 [직급·직책 관리]
- 직급·직책 등록/수정/삭제 가능
- 결재선 권한 부여 시 직책 기준 자동 매핑 가능

### SFR-151 [권한 역할 정의]
| 역할 | 권한 |
|------|------|
| USER | 본인 신청/조회 |
| APPROVER | 하위 조직 결재 |
| ADMIN | 조직·직급·결재선 관리 등 |

- 역할과 직급은 독립적으로 관리 가능

### SFR-152 [조직도 관리]
- 팀/부서/본부 등록/수정/삭제 가능
- 조직 변경 시 결재선 자동 재설정 가능

---

## VII. 계정 생성 및 사용자 관리

### SFR-160 [계정 생성]
- 관리자 화면에서 신규 사용자 등록 가능
- 기본정보:
  - 사번
  - 이름
  - 이메일
  - 입사일
  - 직급
  - 직책
  - 소속팀
  - 기본 결재자
- 초기 연차부여: 근속연수 계산 후 자동 부여 또는 수동 지정
- 기본 역할(Role) 설정
- 계정 생성 시 초기 비밀번호 발급 (이메일 전송 또는 관리자 지정)

### SFR-161 [계정 활성/비활성]
- 퇴사자·휴직자 계정 비활성화 처리
- 비활성 계정: 로그인 불가, 이력은 유지

### SFR-163 [비밀번호 정책]
- 최소 8자, 영문/숫자/특수문자 포함
- 90일 주기 변경 안내 (옵션)
- 비밀번호 5회 오류 시 계정 잠금 (관리자 해제 필요)

---

## VIII. 관리자 기능 확장 (권한/계정 관련)

### SFR-170 [사용자 일괄 업로드]
- CSV/Excel 파일로 사용자 대량 등록
- 조직·직급·결재자 매핑 지원

### SFR-171 [역할 변경 이력]
- 역할 변경 시 기록: 사유, 변경자, 일시
- 보관 기간: 최소 3년

### SFR-172 [감사 로그(권한/계정)]
- 로그 저장 대상:
  - 계정 생성
  - 권한 변경
  - 직급 변경
  - 조직 이동
  - 휴가유형 변경
